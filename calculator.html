<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>電卓</title>
<script type="text/javascript">
var x;
var kekka = "";
function clearText(){
form.text.value = "";
kekka = "";
}
function btnPressed(x){
if( kekka!="" ){
form.text.value = kekka;
kekka = "";
}
form.text.value += x;
}
function backSpace(){
kekka = "";
form.text.value = form.text.value.substring(0, form.text.value.length - 1);
}
function calculate(){
if( kekka!="" ) return;
kekka = eval(form.text.value);
form.text.value += "=" + kekka;
}
function sqrt(){
if( kekka!="" ){
kekka = Math.sqrt(kekka);
}else{
kekka = Math.sqrt(eval(form.text.value));
}
form.text.value = kekka;
}
function keypress(event){
if(event.keyCode != 0){
moji = event.keyCode; //IE
}else{
moji = event.charCode; //Firefox
}
if( moji==13 || moji==61 ){ //13:リターンキー 61:イコール(=)
kekka = eval(form.text.value);
form.text.value += "=" + kekka;
return false; //入力文字を追加しないときは false を返す
}
return true;
}
</script>
</head>
<body>
<h1>電卓</h1>
<form name="form">
<p><input type="text" name="text" style="width:170px; \
\\height:40px; font-size:20px" onKeyPress="return keypress(event)"></p>
<input type="button" value="C" onClick="clearText()" style="width:40px; \
height:40px; font-size:30px">
<input type="button" value="(" onClick="btnPressed('(')" style="width:40px; \\height:40px; font-size:30px">
<input type="button" value=")" onClick="btnPressed(')')" style="width:40px; \\height:40px; font-size:30px">
<input type="button" value="/" onClick="btnPressed('/')" style="width:40px; \\height:40px; font-size:30px">
<p><input type="button" value="7" onClick="btnPressed('7')" style="width:40px; \height:40px; font-size:30px">
<input type="button" value="8" onClick="btnPressed('8')" style="width:40px; \height:40px; font-size:30px">
<input type="button" value="9" onClick="btnPressed('9')" style="width:40px; \height:40px; font-size:30px">
<input type="button" value="*" onClick="btnPressed('*')" style="width:40px; \height:40px; font-size:30px"></p>
<p><input type="button" value="4" onClick="btnPressed('4')" style="width:40px; \height:40px; font-size:30px">

    <input type="button" value="5" onClick="btnPressed('5')" style="width:40px; \height:40px; font-size:30px">
<input type="button" value="6" onClick="btnPressed('6')" style="width:40px; \height:40px; font-size:30px">
<input type="button" value="-" onClick="btnPressed('-')" style="width:40px; \height:40px; font-size:30px"></p>
<p><input type="button" value="1" onClick="btnPressed('1')" style="width:40px; \height:40px; font-size:30px">
<input type="button" value="2" onClick="btnPressed('2')" style="width:40px; \height:40px; font-size:30px">
<input type="button" value="3" onClick="btnPressed('3')" style="width:40px; \height:40px; font-size:30px">
<input type="button" value="+" onClick="btnPressed('+')" style="width:40px; \height:40:px;font-size:30px"></p>
<p><input type="button" value="0" onClick="btnPressed('0')" style="width:85px;\height:40px; font-size:30px">
<input type="button" value="." onClick="btnPressed('.')" style="width:40px; \height:40px; font-size:30px">
<input type="button" value="=" onClick="calculate()" style="width:40px; \
height:40px; font-size:30px">
<p><input type="button" value="BS" onClick="backSpace()" style="width:130px; \height:40px; font-size:30px">
<input type="button" value="√" onClick="sqrt()" style="width:40px; \
height:40px; font-size:30px">
</form>
<p><h3>電卓の使用方法</br>
<h4>・計算式を打ち込み「=」で計算結果を求める</br>
・キーボード入力も可能</p>
</body>
</html>